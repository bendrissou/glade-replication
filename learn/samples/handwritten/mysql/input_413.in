CREATE AGGREGATE FUNCTION `KOI8U` RETURNS DECIMAL SONAME "\p" ; CREATE OR REPLACE ALGORITHM = MERGE VIEW `xA` AS ( SELECT DISTINCT * HAVING @```\|` := @@P - > > @S LIMIT 0 OFFSET 0 ) LOCK IN SHARE MODE WITH CASCADED CHECK OPTION -- ; START TRANSACTION WITH CONSISTENT SNAPSHOT , WITH CONSISTENT SNAPSHOT , WITH CONSISTENT SNAPSHOT 